diff -Nru nano-2.2.3-orig//config.h nano-2.2.3/config.h
--- nano-2.2.3-orig//config.h	1970-01-01 01:00:00.000000000 +0100
+++ nano-2.2.3/config.h	2010-04-22 10:08:42.000000000 +0200
@@ -0,0 +1,246 @@
+/* config.h.  Generated from configure.ac by autoheader.  */
+
+/* Define this to enable debug messages and assert warnings. */
+#undef DEBUG
+
+/* Define this to disable the built-in file browser. */
+#undef DISABLE_BROWSER
+
+/* Define this to disable the help text display. */
+#undef DISABLE_HELP
+
+/* Define this to disable the justify routines. */
+#undef DISABLE_JUSTIFY
+
+/* Define this to disable the mouse support. */
+#define DISABLE_MOUSE 1
+
+/* Define this to disable the setting of the operating directory (chroot of
+   sorts). */
+#undef DISABLE_OPERATINGDIR
+
+/* Define this to disable text wrapping as root by default. */
+#undef DISABLE_ROOTWRAPPING
+
+/* Define this to disable the spell checker functions. */
+#define DISABLE_SPELLER 1
+
+/* Define to disable the tab completion functions for files and search
+   strings. */
+#undef DISABLE_TABCOMP
+
+/* Define this to disable all text wrapping. */
+#undef DISABLE_WRAPPING
+
+/* Define this to have syntax highlighting, requires regex.h and ENABLE_NANORC
+   too! */
+#define ENABLE_COLOR 1
+
+/* Define this to enable multiple file buffers. */
+#define ENABLE_MULTIBUFFER 1
+
+/* Define this to use .nanorc files. */
+#define ENABLE_NANORC 1
+
+/* Define to 1 if translation of program messages to the user's native
+   language is requested. */
+#undef ENABLE_NLS
+
+/* Define this if your system has sufficient UTF-8 support (a wide curses
+   library, iswalnum(), iswpunct(), iswblank() or iswspace(), mblen(),
+   mbstowcs(), mbtowc(), wctomb(), and wcwidth()). */
+#undef ENABLE_UTF8
+
+/* Define if the system supports GNU-style word boundaries in regexes. */
+#undef GNU_WORDBOUNDS
+
+/* Define to 1 if you have the <curses.h> header file. */
+#define HAVE_CURSES_H 1
+
+/* Define if the GNU dcgettext() function is already present or preinstalled.
+   */
+#undef HAVE_DCGETTEXT
+
+/* Define to 1 if you don't have `vprintf' but do have `_doprnt.' */
+#undef HAVE_DOPRNT
+
+/* Define to 1 if you have the `getdelim' function. */
+#undef HAVE_GETDELIM
+
+/* Define to 1 if you have the `getline' function. */
+#undef HAVE_GETLINE
+
+/* Define to 1 if you have the <getopt.h> header file. */
+#define HAVE_GETOPT_H 1
+
+/* Define to 1 if you have the `getopt_long' function. */
+#define HAVE_GETOPT_LONG 1
+
+/* Define if the GNU gettext() function is already present or preinstalled. */
+#undef HAVE_GETTEXT
+
+/* Define if you have the iconv() function. */
+#undef HAVE_ICONV
+
+/* Define to 1 if you have the <inttypes.h> header file. */
+#define HAVE_INTTYPES_H 1
+
+/* Define to 1 if you have the `isblank' function. */
+#define HAVE_ISBLANK 1
+
+/* Define to 1 if you have the `iswalnum' function. */
+#undef HAVE_ISWALNUM
+
+/* Define to 1 if you have the `iswblank' function. */
+#undef HAVE_ISWBLANK
+
+/* Define to 1 if you have the `iswpunct' function. */
+#undef HAVE_ISWPUNCT
+
+/* Define to 1 if you have the `iswspace' function. */
+#undef HAVE_ISWSPACE
+
+/* Define to 1 if you have the <libintl.h> header file. */
+#undef HAVE_LIBINTL_H
+
+/* Define to 1 if you have the <limits.h> header file. */
+#define HAVE_LIMITS_H 1
+
+/* Define to 1 if you have the `mblen' function. */
+#undef HAVE_MBLEN
+
+/* Define to 1 if you have the `mbstowcs' function. */
+#undef HAVE_MBSTOWCS
+
+/* Define to 1 if you have the `mbtowc' function. */
+#undef HAVE_MBTOWC
+
+/* Define to 1 if you have the <memory.h> header file. */
+#undef HAVE_MEMORY_H
+
+/* Define to 1 if you have the <ncurses.h> header file. */
+#define HAVE_NCURSES_H 1
+
+/* Define to 1 if you have the `nl_langinfo' function. */
+#undef HAVE_NL_LANGINFO
+
+/* Define to 1 if you have the <regex.h> header file. */
+#define HAVE_REGEX_H 1
+
+/* Define to 1 if you have the <stdarg.h> header file. */
+#define HAVE_STDARG_H 1
+
+/* Define to 1 if you have the <stdint.h> header file. */
+#define HAVE_STDINT_H 1
+
+/* Define to 1 if you have the <stdlib.h> header file. */
+#define HAVE_STDLIB_H 1
+
+/* Define to 1 if you have the `strcasecmp' function. */
+#define HAVE_STRCASECMP 1
+
+/* Define to 1 if you have the `strcasestr' function. */
+#undef HAVE_STRCASESTR
+
+/* Define to 1 if you have the <strings.h> header file. */
+#undef HAVE_STRINGS_H
+
+/* Define to 1 if you have the <string.h> header file. */
+#define HAVE_STRING_H 1
+
+/* Define to 1 if you have the `strncasecmp' function. */
+#define HAVE_STRNCASECMP 1
+
+/* Define to 1 if you have the `strnlen' function. */
+#define HAVE_STRNLEN 1
+
+/* Define to 1 if you have the <sys/param.h> header file. */
+#define HAVE_SYS_PARAM_H 1
+
+/* Define to 1 if you have the <sys/stat.h> header file. */
+#define HAVE_SYS_STAT_H 1
+
+/* Define to 1 if you have the <sys/types.h> header file. */
+#define HAVE_SYS_TYPES_H 1
+
+/* Define to 1 if you have the <unistd.h> header file. */
+#define HAVE_UNISTD_H 1
+
+/* Define this if your curses library has the use_default_colors() command. */
+#define HAVE_USE_DEFAULT_COLORS 1
+
+/* Define to 1 if you have the `vprintf' function. */
+#define HAVE_VPRINTF 1
+
+/* Define to 1 if you have the `vsnprintf' function. */
+#define HAVE_VSNPRINTF 1
+
+/* Define to 1 if you have the <wchar.h> header file. */
+#undef HAVE_WCHAR_H
+
+/* Define to 1 if you have the `wctomb' function. */
+#undef HAVE_WCTOMB
+
+/* Define to 1 if you have the <wctype.h> header file. */
+#undef HAVE_WCTYPE_H
+
+/* Define to 1 if you have the `wcwidth' function. */
+#undef HAVE_WCWIDTH
+
+/* Define this to enable extra stuff. */
+#undef NANO_EXTRA
+
+/* Define this to make the nano executable as small as possible. */
+#undef NANO_TINY
+
+/* Shut up assert warnings :-) */
+#undef NDEBUG
+
+/* Name of package */
+#undef PACKAGE
+
+/* Define to the address where bug reports for this package should be sent. */
+#undef PACKAGE_BUGREPORT
+
+/* Define to the full name of this package. */
+#define PACKAGE_NAME "nano"
+
+/* Define to the full name and version of this package. */
+#define PACKAGE_STRING "nano"
+
+/* Define to the one symbol short name of this package. */
+#undef PACKAGE_TARNAME
+
+/* Define to the home page for this package. */
+#undef PACKAGE_URL
+
+/* Define to the version of this package. */
+#undef PACKAGE_VERSION
+
+/* Where data are placed to. */
+#undef PKGDATADIR
+
+/* Define as the return type of signal handlers (`int' or `void'). */
+#define RETSIGTYPE void
+
+/* Define to 1 if you have the ANSI C header files. */
+#define STDC_HEADERS 1
+
+/* Define to use the slang wrappers for curses instead of native curses. */
+#undef USE_SLANG
+
+/* Version number of package */
+#define VERSION "2.2.1"
+
+/* Number of bits in a file offset, on hosts where this is settable. */
+#define _FILE_OFFSET_BITS 64
+
+/* Enable GNU extensions on systems that have them.  */
+#ifndef _GNU_SOURCE
+# undef _GNU_SOURCE
+#endif
+
+/* Define for large files, on AIX-style hosts. */
+#undef _LARGE_FILES
+
+#define SYSCONFDIR "/system/config"
diff -Nru nano-2.2.3-orig//doc/nanorc nano-2.2.3/doc/nanorc
--- nano-2.2.3-orig//doc/nanorc	1970-01-01 01:00:00.000000000 +0100
+++ nano-2.2.3/doc/nanorc	2010-04-22 10:08:42.000000000 +0200
@@ -0,0 +1,316 @@
+## Sample initialization file for GNU nano.
+##
+## Please note that you must have configured nano with --enable-nanorc
+## for this file to be read!  Also note that this file should not be in
+## DOS or Mac format, and that characters specially interpreted by the
+## shell should not be escaped here.
+##
+## To make sure a value is disabled, use "unset <option>".
+##
+## For the options that take parameters, the default value is given.
+## Other options are unset by default.
+##
+## Quotes inside string parameters don't have to be escaped with
+## backslashes.  The last double quote in the string will be treated as
+## its end.  For example, for the "brackets" option, ""')>]}" will match
+## ", ', ), >, ], and }.
+
+## Use auto-indentation.
+# set autoindent
+
+## Backup files to filename~.
+# set backup
+
+## The directory to put unique backup files in.
+# set backupdir ""
+
+## Do backwards searches by default.
+# set backwards
+
+## Use bold text instead of reverse video text.
+# set boldtext
+
+## The characters treated as closing brackets when justifying
+## paragraphs.  They cannot contain blank characters.  Only closing
+## punctuation, optionally followed by closing brackets, can end
+## sentences.
+##
+# set brackets ""')>]}"
+
+## Do case sensitive searches by default.
+# set casesensitive
+
+## Constantly display the cursor position in the statusbar.  Note that
+## this overrides "quickblank".
+# set const
+
+## Use cut to end of line by default.
+# set cut
+
+## Set the line length for wrapping text and justifying paragraphs.
+## If fill is 0 or less, the line length will be the screen width less
+## this number.
+##
+# set fill -8
+
+## Enable ~/.nano_history for saving and reading search/replace strings.
+# set historylog
+
+## The opening and closing brackets that can be found by bracket
+## searches.  They cannot contain blank characters.  The former set must
+## come before the latter set, and both must be in the same order.
+##
+# set matchbrackets "(<[{)>]}"
+
+## Use the blank line below the titlebar as extra editing space.
+# set morespace
+
+## Enable mouse support, if available for your system.  When enabled,
+## mouse clicks can be used to place the cursor, set the mark (with a
+## double click), and execute shortcuts.  The mouse will work in the X
+## Window System, and on the console when gpm is running.
+##
+# set mouse
+
+## Allow multiple file buffers (inserting a file will put it into a
+## separate buffer).  You must have configured with --enable-multibuffer
+## for this to work.
+##
+# set multibuffer
+
+## Don't convert files from DOS/Mac format.
+# set noconvert
+
+## Don't follow symlinks when writing files.
+# set nofollow
+
+## Don't display the helpful shortcut lists at the bottom of the screen.
+# set nohelp
+
+## Don't add newlines to the ends of files.
+# set nonewlines
+
+## Don't wrap text at all.
+# set nowrap
+
+## Set operating directory.  nano will not read or write files outside
+## this directory and its subdirectories.  Also, the current directory
+## is changed to here, so any files are inserted from this dir.  A blank
+## string means the operating directory feature is turned off.
+##
+# set operatingdir ""
+
+## Preserve the XON and XOFF keys (^Q and ^S).
+# set preserve
+
+## The characters treated as closing punctuation when justifying
+## paragraphs.  They cannot contain blank characters.  Only closing
+## punctuation, optionally followed by closing brackets, can end
+## sentences.
+##
+# set punct "!.?"
+
+## Do quick statusbar blanking.  Statusbar messages will disappear after
+## 1 keystroke instead of 26.  Note that "const" overrides this.
+##
+# set quickblank
+
+## The email-quote string, used to justify email-quoted paragraphs.
+## This is an extended regular expression if your system supports them,
+## otherwise a literal string.  Default:
+# set quotestr "^([ 	]*[#:>\|}])+"
+## if you have extended regular expression support, otherwise:
+# set quotestr "> "
+
+## Fix Backspace/Delete confusion problem.
+# set rebinddelete
+
+## Fix numeric keypad key confusion problem.
+# set rebindkeypad
+
+## Do extended regular expression searches by default.
+# set regexp
+
+## Make the Home key smarter.  When Home is pressed anywhere but at the
+## very beginning of non-whitespace characters on a line, the cursor
+## will jump to that beginning (either forwards or backwards).  If the
+## cursor is already at that position, it will jump to the true
+## beginning of the line.
+# set smarthome
+
+## Use smooth scrolling as the default.
+# set smooth
+
+## Enable soft line wrapping (AKA full line display).
+# set softwrap
+
+## Use this spelling checker instead of the internal one.  This option
+## does not properly have a default value.
+##
+# set speller "aspell -x -c"
+
+## Allow nano to be suspended.
+# set suspend
+
+## If nano is allowed to be suspended, allow the suspend key (usually
+## ^Z) to actually suspend it.
+# set suspendenable
+
+## Use this tab size instead of the default; it must be greater than 0.
+# set tabsize 8
+
+## Convert typed tabs to spaces.
+# set tabstospaces
+
+## Save automatically on exit, don't prompt.
+# set tempfile
+
+## Enable the new (EXPERIMENTAL) generic undo code, not just for line
+## cuts.
+# set undo
+
+## Disallow file modification.  Why would you want this in an rcfile? ;)
+# set view
+
+## The two single-column characters used to display the first characters
+## of tabs and spaces.  187 in ISO 8859-1 (0000BB in Unicode) and 183 in
+## ISO-8859-1 (0000B7 in Unicode) seem to be good values for these.
+# set whitespace "  "
+
+## Detect word boundaries more accurately by treating punctuation
+## characters as parts of words.
+# set wordbounds
+
+
+## Color setup
+##
+## Format:
+##
+## syntax "short description" ["filename regex" ...]
+##
+## The "none" syntax is reserved; specifying it on the command line is
+## the same as not having a syntax at all.  The "default" syntax is
+## special: it takes no filename regexes, and applies to files that
+## don't match any other syntax's filename regexes.
+##
+## color foreground,background "regex" ["regex"...]
+## or
+## icolor foreground,background "regex" ["regex"...]
+##
+## "color" will do case sensitive matches, while "icolor" will do case
+## insensitive matches.
+##
+## Valid colors: white, black, red, blue, green, yellow, magenta, cyan.
+## For foreground colors, you may use the prefix "bright" to get a
+## stronger highlight.
+##
+## To use multi-line regexes, use the start="regex" end="regex"
+## [start="regex" end="regex"...] format.
+##
+## If your system supports transparency, not specifying a background
+## color will use a transparent color.  If you don't want this, be sure
+## to set the background color to black or white.
+##
+## If you wish, you may put your syntaxes in separate files.  You can
+## make use of such files (which can only include "syntax", "color", and
+## "icolor" commands) as follows:
+##
+## include "/path/to/syntax_file.nanorc"
+##
+## Unless otherwise noted, the name of the syntax file (without the
+## ".nanorc" extension) should be the same as the "short description"
+## name inside that file.  These names are kept fairly short to make
+## them easier to remember and faster to type using nano's -Y option.
+##
+## All regexes should be extended regular expressions.
+
+## Key bindings
+## Please see nanorc(5) for more details on this
+##
+## Here are some samples to get you going
+##
+# bind M-W nowrap main
+# bind M-A casesens search
+# bind ^S research main
+
+## Set this if your backspace key sends delete most of the time (2.1.3+)
+# bind kdel backspace all
+
+
+## Nanorc files
+include "/system/config/nano/nanorc.nanorc"
+
+## C/C++
+include "/system/config/nano/c.nanorc"
+
+## Makefiles
+include "/system/config/nano/makefile.nanorc"
+
+## Cascading Style Sheets
+include "/system/config/nano/css.nanorc"
+
+## Debian files
+include "/system/config/nano/debian.nanorc"
+
+## Gentoo files
+include "/system/config/nano/gentoo.nanorc"
+
+## HTML
+include "/system/config/nano/html.nanorc"
+
+## PHP
+include "/system/config/nano/php.nanorc"
+
+## TCL
+include "/system/config/nano/tcl.nanorc"
+
+## TeX
+include "/system/config/nano/tex.nanorc"
+
+## Quoted emails (under e.g. mutt)
+include "/system/config/nano/mutt.nanorc"
+
+## Patch files
+include "/system/config/nano/patch.nanorc"
+
+## Manpages
+include "/system/config/nano/man.nanorc"
+
+## Groff
+include "/system/config/nano/groff.nanorc"
+
+## Perl
+include "/system/config/nano/perl.nanorc"
+
+## Python
+include "/system/config/nano/python.nanorc"
+
+## Ruby
+include "/system/config/nano/ruby.nanorc"
+
+## Java
+include "/system/config/nano/java.nanorc"
+
+## Fortran
+include "/system/config/nano/fortran.nanorc"
+
+## Objective-C
+include "/system/config/nano/objc.nanorc"
+
+## OCaml
+include "/system/config/nano/ocaml.nanorc"
+
+## AWK
+include "/system/config/nano/awk.nanorc"
+
+## Assembler
+include "/system/config/nano/asm.nanorc"
+
+## Bourne shell scripts
+include "/system/config/nano/sh.nanorc"
+
+## POV-Ray
+include "/system/config/nano/pov.nanorc"
+
+## XML-type files
+include "/system/config/nano/xml.nanorc"
diff -Nru nano-2.2.3-orig//pbuild.xml nano-2.2.3/pbuild.xml
--- nano-2.2.3-orig//pbuild.xml	1970-01-01 01:00:00.000000000 +0100
+++ nano-2.2.3/pbuild.xml	2010-04-22 10:10:16.000000000 +0200
@@ -0,0 +1,126 @@
+<!--
+
+This file is part of the yaosp build system
+
+Copyright (c) 2010 Zoltan Kovacs
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of version 2 of the GNU General Public License
+as published by the Free Software Foundation.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License along
+with this program; if not, write to the Free Software Foundation, Inc.,
+51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+
+-->
+
+<build default="all">
+    <pinclude file="${toplevel}/config/paths.xml"/>
+
+    <array name="files">
+        <item>src/browser.c</item>
+        <item>src/chars.c</item>
+        <item>src/color.c</item>
+        <item>src/cut.c</item>
+        <item>src/files.c</item>
+        <item>src/global.c</item>
+        <item>src/help.c</item>
+        <item>src/move.c</item>
+        <item>src/nano.c</item>
+        <item>src/prompt.c</item>
+        <item>src/rcfile.c</item>
+        <item>src/search.c</item>
+        <item>src/text.c</item>
+        <item>src/utils.c</item>
+        <item>src/winio.c</item>
+    </array>
+
+    <array name="nanorc_files">
+        <item>asm.nanorc</item>
+        <item>c.nanorc</item>
+        <item>debian.nanorc</item>
+        <item>gentoo.nanorc</item>
+        <item>html.nanorc</item>
+        <item>makefile.nanorc</item>
+        <item>mutt.nanorc</item>
+        <item>objc.nanorc</item>
+        <item>patch.nanorc</item>
+        <item>php.nanorc</item>
+        <item>python.nanorc</item>
+        <item>sh.nanorc</item>
+        <item>tex.nanorc</item>
+        <item>awk.nanorc</item>
+        <item>css.nanorc</item>
+        <item>fortran.nanorc</item>
+        <item>groff.nanorc</item>
+        <item>java.nanorc</item>
+        <item>man.nanorc</item>
+        <item>nanorc.nanorc</item>
+        <item>ocaml.nanorc</item>
+        <item>perl.nanorc</item>
+        <item>pov.nanorc</item>
+        <item>ruby.nanorc</item>
+        <item>tcl.nanorc</item>
+        <item>xml.nanorc</item>
+    </array>
+
+    <target name="clean">
+        <delete>objs/*</delete>
+        <rmdir>objs</rmdir>
+    </target>
+
+    <target name="prepare" type="private">
+        <mkdir>objs</mkdir>
+    </target>
+
+    <target name="compile">
+        <call target="prepare"/>
+
+        <echo>Compiling nano 2.2.3</echo>
+
+        <for var="i" array="${files}">
+            <echo>-> ${i}</echo>
+            <gcc>
+                <input>${i}</input>
+                <output>objs/filename(${i}).o</output>
+                <include>./</include>
+                <flags>-c -O2 -Wall</flags>
+                <flag>-fno-strict-aliasing</flag>
+                <define key="HAVE_CONFIG_H"/>
+            </gcc>
+        </for>
+
+        <echo>Linking nano 2.2.3</echo>
+        <echo>-> objs/nano</echo>
+
+        <gcc>
+            <input>objs/*.o</input>
+            <output>objs/nano</output>
+            <flag>-lncurses</flag>
+        </gcc>
+    </target>
+
+    <target name="install">
+        <echo>Installing nano binary</echo>
+
+        <copy from="objs/nano" to="${imagedir}/application/nano"/>
+
+        <mkdir>${imagedir}/system/config/nano</mkdir>
+
+        <copy from="doc/nanorc" to="${imagedir}/system/config/nanorc"/>
+        <for var="i" array="${nanorc_files}">
+            <copy from="doc/syntax/${i}" to="${imagedir}/system/config/nano/${i}"/>
+        </for>
+    </target>
+
+    <target name="all">
+        <call target="clean"/>
+        <call target="compile"/>
+        <call target="install"/>
+    </target>
+</build>
